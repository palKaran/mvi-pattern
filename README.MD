# SwiftUI MVI Architecture Examples

ğŸ—ï¸ **Complete implementations of Model-View-Intent pattern in SwiftUI with practical examples**

[![Swift](https://img.shields.io/badge/Swift-5.9+-orange.svg)](https://swift.org)
[![iOS](https://img.shields.io/badge/iOS-16.0+-blue.svg)](https://developer.apple.com/ios/)
[![SwiftUI](https://img.shields.io/badge/SwiftUI-4.0+-green.svg)](https://developer.apple.com/xcode/swiftui/)
[![Xcode](https://img.shields.io/badge/Xcode-15.0+-blue.svg)](https://developer.apple.com/xcode/)

## ğŸ“– Overview

This repository contains production-ready implementations of the Model-View-Intent (MVI) architecture pattern in SwiftUI. MVI provides unidirectional data flow, predictable state management, and excellent testability for complex SwiftUI applications.

### What's Included

- **Counter App** - Simple example demonstrating MVI basics
- **Todo App** - Full-featured implementation with persistence, filtering, and editing
- **Reusable MVI Components** - Store protocols, binding patterns, and utilities
- **Best Practices** - Error handling, optimistic updates, and SwiftUI integration

## ğŸš€ Features

### Counter App
- âœ… Basic MVI pattern demonstration
- âœ… Synchronous and asynchronous state updates
- âœ… Clear intent-based actions
- âœ… Simple state management

### Todo App
- âœ… Complete CRUD operations
- âœ… Real-time filtering (All, Active, Completed)
- âœ… Inline editing with optimistic updates
- âœ… AppStorage persistence
- âœ… Empty states and loading indicators
- âœ… Swipe actions for edit/delete

## ğŸ—ï¸ Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Intent    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    New State    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚
â”‚    View     â”‚              â”‚    Store    â”‚                 â”‚    Model    â”‚
â”‚             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   UI Update  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   State Change  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Key Components

- **Model** - Immutable state representation
- **View** - SwiftUI views that display state and send intents
- **Intent** - Enum defining all possible user actions
- **Store** - Processes intents and manages state transitions

## ğŸ› ï¸ Installation

1. **Clone the repository**
```bash
git clone https://github.com/yourusername/SwiftUI-MVI-Architecture.git
cd SwiftUI-MVI-Architecture
```

2. **Open in Xcode**
```bash
open SwiftUI-MVI-Architecture.xcodeproj
```

3. **Run the examples**
   - Select your target device/simulator
   - Choose between `Counter` or `Todo` schemes
   - Press `Cmd+R` to run

## ğŸ“± Usage Examples

### Basic MVI Store

```swift
@MainActor
final class CounterStore: MVIStore {
    @Published private(set) var state = CounterState()
    
    func send(_ intent: CounterIntent) {
        switch intent {
        case .increment:
            state = state.copy(count: state.count + 1)
        case .decrement:
            state = state.copy(count: state.count - 1)
        case .reset:
            state = CounterState()
        }
    }
}
```

### SwiftUI Integration

```swift
struct CounterView: View {
    @StateObject private var store = CounterStore()
    
    var body: some View {
        VStack {
            Text("\(store.state.count)")
                .font(.largeTitle)
            
            HStack {
                Button("-") { store.send(.decrement) }
                Button("+") { store.send(.increment) }
                Button("Reset") { store.send(.reset) }
            }
        }
    }
}
```

### Clean SwiftUI Bindings

```swift
// In your store
var textBinding: Binding<String> {
    Binding(
        get: { self.state.text },
        set: { self.send(.updateText($0)) }
    )
}

// In your view
TextField("Enter text", text: store.textBinding)
```

## ğŸ§ª Testing

The MVI pattern makes testing straightforward:

```swift
func testIncrement() {
    let store = CounterStore()
    
    store.send(.increment)
    
    XCTAssertEqual(store.state.count, 1)
}
```

## ğŸ“‚ Project Structure

```
SwiftUI-MVI-Architecture/
â”œâ”€â”€ Counter/
â”‚   â”œâ”€â”€ CounterState.swift
â”‚   â”œâ”€â”€ CounterIntent.swift
â”‚   â”œâ”€â”€ CounterStore.swift
â”‚   â”œâ”€â”€ CounterView.swift
â”‚   â””â”€â”€ MVIStore.swift
â””â”€â”€ Todo/
    â”œâ”€â”€ Todo.swift
    â”œâ”€â”€ TodoState.swift
    â”œâ”€â”€ TodoIntent.swift
    â”œâ”€â”€ TodoStore.swift
    â”œâ”€â”€ TodoService.swift
    â”œâ”€â”€ TodoListView.swift
    â””â”€â”€ TodoRowView.swift

```

## ğŸ¯ When to Use MVI

**âœ… Use MVI when:**
- Complex state management with multiple data sources
- Team collaboration with explicit contracts
- Predictable state transitions are critical
- Comprehensive testing is required
- Real-time updates and complex workflows

**âŒ Consider alternatives when:**
- Simple CRUD operations
- Rapid prototyping
- Small team or solo development
- Straightforward data flows

## ğŸ”§ Requirements

- iOS 16.0+
- Xcode 15.0+
- Swift 5.9+
- SwiftUI 4.0+

## ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit a Pull Request. For major changes, please open an issue first to discuss what you would like to change.

### Development Guidelines

1. Follow existing code style and patterns
2. Add tests for new features
3. Update documentation as needed
4. Ensure all examples compile and run

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- Inspired by Redux and other unidirectional data flow patterns
- Built with SwiftUI and modern Swift concurrency
- Thanks to the iOS development community for feedback and contributions

---

**Made with â¤ï¸ by [Karan Pal](https://github.com/palkaran)**

*If this helped you, please give it a â­ï¸*
